{"componentChunkName":"component---src-templates-resource-detail-index-jsx","path":"/en-US/blog/mysql-romote","result":{"data":{"locales":{"edges":[{"node":{"ns":"translation","data":"{\"Documentation\":\"Documentation\",\"FAQ\":\"FAQ\",\"NEXT\":\"NEXT\",\"PREV\":\"PREV\",\"Product List\":\"Applications\",\"ALL\":\"ALL\",\"No relevant data found\":\"No relevant data found\",\"Get it Now\":\"Get it Now\",\"Overview\":\"Overview\",\"Highlights\":\"Highlights\",\"Description\":\"Description\",\"Related Applications\":\"Related Applications\",\"Learning Materials\":\"Learning Materials\",\"Classification\":\"Classification\",\"Os\":\"Os\",\"Open Source License\":\"Open Source License\",\"Support Language\":\"Support Language\",\"Languages\":\"Languages\",\"Solution\":\"Solution\",\"Resource\":\"Resource\",\"Applicable Personnel\":\"Applicable Personnel\",\"Resource List\":\"Resource List\",\"Official Website\":\"Official Website\",\"Feedback\":\"Feedback\",\"Submit A Suggestion\":\"Submit A Suggestion\",\"Get Professional Services\":\"Get Professional Services\",\"Tags\":\"Tags\",\"Author\":\"Author\",\"Related Reading\":\"Related Reading\",\"Resource Center\":\"Resource Center\",\"Challengeg\":\"Challengeg\",\"How do we solve it?\":\"How do we solve it?\",\"More solution\":\"More solution\",\"Type of asset\":\"Type of asset\",\"Categories\":\"Categories\",\"Resource Download\":\"Resource Download\",\"Discover Now\":\"Discover Now\",\"Become a Partner\":\"Become a Partner\",\"Invoicing\":\"Invoicing\",\"7×24 Tickets\":\"7×24 Tickets\",\"BROWSE ALL\":\"BROWSE ALL\",\"Services List\":\"Services List\",\"Service Type\":\"Service Type\",\"Service Object\":\"Service Object\",\"Content directory\":\"Content directory\",\"mo\":\"mo\",\"y\":\"y\",\"Benefit\":\"Benefit\",\"What do we do\":\"What do we do\",\"Cases\":\"Cases\",\"Purchase and price\":\"Purchase and price\",\"Service portfolio\":\"Service portfolio\",\"Related Services\":\"Related Services\",\"Business insight\":\"Business insight\",\"Components\":\"Components\",\"Copyright\":\"© 2022 Websoft9. All Rights Reserved.\",\"Company summary\":\"Provide users with simple serial applications to help software operators create global cloud-based online business commerce\",\"Applications\":\"Applications\",\"SHARE\":\"SHARE\"}","language":"en-US"}}]},"site":{"siteMetadata":{"copyright":"Copyright","description":"Company summary","siteUrl":"https://www.websoft9.com","socials":[{"icon":"fab fa-github social-link-icon","id":1,"link":"https://github.com/","title":"github"},{"icon":"fab fa-twitter social-link-icon","id":2,"link":"https://www.twitter.com","title":"Twitter"},{"icon":"fab fa-instagram social-link-icon","id":3,"link":"https://www.instagram.com","title":"Instagram"},{"icon":"fab fa-linkedin social-link-icon","id":4,"link":"https://www.linkedin.com","title":"Linkedin"},{"icon":"fab fa-pinterest social-link-icon","id":5,"link":"https://pinterest.com","title":"Pinterest"}]}},"RelatedReading":{"nodes":[{"id":"b04cd64d-6a5a-5489-ad4f-902ddefae040","slug":"digtal-committee-start-changsha","title":"数字经济专业委员会在长沙成立，Websoft9 助力传统企业转型","time":null,"image":"https://libs.websoft9.com/Websoft9/resource/blog/2022/10/digtal-commit-start-cs.jpg","type":{"id":"53d881b6-0253-56d0-b8de-0d06d834b608","key":"news","title":"News"}},{"id":"d56d83d8-db66-52f6-b1b1-00e894db4e02","slug":"software-supply-chain","title":"Software Supply Chain","time":null,"image":"https://libs.websoft9.com/Websoft9/resource/solution/softwarescm-feature-websoft9.png","type":{"id":"f26470e4-249e-5966-b8fb-d7e620a71e65","key":"solution","title":"Solution"}},{"id":"6dea9576-1832-5aa0-8ef1-8d51867af2d9","slug":"open-knowledge-base","title":"Open knowledge base","time":null,"image":"https://libs.websoft9.com/Websoft9/resource/solution/open-km-hero-websoft9.webp","type":{"id":"f26470e4-249e-5966-b8fb-d7e620a71e65","key":"solution","title":"Solution"}}]},"allContentfulResource":{"nodes":[{"id":"7c81130f-61dd-5b92-b0f2-c33460c4d5d5","slug":"mysql-romote","title":"如何开启MySQL远程连接","description":null,"image":null,"type":{"id":"7fcfc4bf-1c58-5656-ae8a-2bea41e47111","key":"blog","title":"Blog"},"author":[{"id":"57d53346-00d0-5b5e-9497-22ea3517bfbe","title":"CEO","fullName":"Websoft9","pictureUrl":"https://libs.websoft9.com/Websoft9/logo/person/cdl.jpeg","customer":null}],"content":{"id":"4c70264a-1a08-5562-84c6-077283570e27","content":"MySql-Server 出于安全方面考虑只允许本机(localhost, 127.0.0.1)来连接访问. 这对于 Web-Server 与 MySql-Server 都在同一台服务器上的网站架构来说是没有问题的. 但随着网站流量的增加, 后期服务器架构可能会将 Web-Server 与 MySql-Server 分别放在独立的服务器上, 以便得到更大性能的提升, 此时 MySql-Server 就要修改成允许 Web-Server 进行远程连接.\n\n开启了远程连接，数据库的后期管理运维也不用每次都登到服务器，只要用图形化界面（如phpMyAdmin）即可远程管理。\n\n开启MySql-Server远程连接主要从**授权访问ip和服务器端口**进行操作:\n1. 在服务器上登录 Mysql-Server 连接本地 mysql (默认只允许本地连接，phpMyAdmin的远程访问实际相当于本地连接):\n```\n[root@iZq2mvq6snkcniZ ~]# mysql -uroot -p123456      \n```\n123456是密码，请使用您数据库的密码。此处以命令行登录举例，也可以使用图形界面等。\n\n2. 修改 Mysql-Server 用户配置:\n```\nMySQL [(none)]>use mysql;\n#查看现有用户,密码及允许连接的主机\nMySQL [mysql]> SELECT User, Password, Host FROM user;        \n+------+-------------------------------------------+-----------+\n| User | Password                                  | Host      |\n+------+-------------------------------------------+-----------+\n| root | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 | localhost |\n| root | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 | 127.0.0.1 |\n+------+-------------------------------------------+-----------+\n2 rows in set (0.00 sec)\n\n#设置为所有IP都可以访问，比较危险，不建议。\nMySQL [mysql]> UPDATE user SET Host=@'%' where user='root' AND Host='localhost' LIMIT 1;       \nMySQL [mysql]> flush privileges;\n#再次查看现有用户,密码及允许连接的主机\nMySQL [mysql]> SELECT User, Password, Host FROM user;       \n+------+-------------------------------------------+-----------+\n| User | Password                                  | Host      |\n+------+-------------------------------------------+-----------+\n| root | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 |           |\n| root | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 | 127.0.0.1 |\n+------+-------------------------------------------+-----------+\n```\n3. 最后，请注意在linux服务器上，默认3306端口是关闭的，不允许远程访问。因此需要打开3306端口供mysql远程连接使用，端口打开方法：\n```\n[root@iZq2mvq6snkcniZ ~]# iptables -I INPUT 4 -p tcp -m state --state NEW -m tcp --dport 3306 -j ACCEPT\n[root@iZq2mvq6snkcniZ ~]# service iptables save\n```\n至此，就可以真正远程访问数据库了，远程访问举例：\n\n![](https://libs-websoft9-com.oss-cn-qingdao.aliyuncs.com/Websoft9/blog/zh/2020/09/mysql-remote-websoft9.png)\n\n其他命令参考：\n下面我们配置 root 用户： 密码为空, 只允许从 192.168.1.100 连接\n```\nmysql> GRANT ALL PRIVILEGES ON *.* TO 'root'@'192.168.1.100' IDENTIFIED BY '' WITH GRANT OPTION;\n@'192.168.1.100'可以替换为@‘%’就可任意ip访问，当然我们也可以直接用 UPDATE 更新 root 用户 Host, SQL如下:\nmysql> UPDATE user SET Host='192.168.1.100' WHERE User='root' AND Host='localhost' LIMIT 1;\n```","childMarkdownRemark":{"html":"<p>MySql-Server 出于安全方面考虑只允许本机(localhost, 127.0.0.1)来连接访问. 这对于 Web-Server 与 MySql-Server 都在同一台服务器上的网站架构来说是没有问题的. 但随着网站流量的增加, 后期服务器架构可能会将 Web-Server 与 MySql-Server 分别放在独立的服务器上, 以便得到更大性能的提升, 此时 MySql-Server 就要修改成允许 Web-Server 进行远程连接.</p>\n<p>开启了远程连接，数据库的后期管理运维也不用每次都登到服务器，只要用图形化界面（如phpMyAdmin）即可远程管理。</p>\n<p>开启MySql-Server远程连接主要从<strong>授权访问ip和服务器端口</strong>进行操作:</p>\n<ol>\n<li>在服务器上登录 Mysql-Server 连接本地 mysql (默认只允许本地连接，phpMyAdmin的远程访问实际相当于本地连接):</li>\n</ol>\n<pre><code>[root@iZq2mvq6snkcniZ ~]# mysql -uroot -p123456      \n</code></pre>\n<p>123456是密码，请使用您数据库的密码。此处以命令行登录举例，也可以使用图形界面等。</p>\n<ol start=\"2\">\n<li>修改 Mysql-Server 用户配置:</li>\n</ol>\n<pre><code>MySQL [(none)]>use mysql;\n#查看现有用户,密码及允许连接的主机\nMySQL [mysql]> SELECT User, Password, Host FROM user;        \n+------+-------------------------------------------+-----------+\n| User | Password                                  | Host      |\n+------+-------------------------------------------+-----------+\n| root | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 | localhost |\n| root | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 | 127.0.0.1 |\n+------+-------------------------------------------+-----------+\n2 rows in set (0.00 sec)\n\n#设置为所有IP都可以访问，比较危险，不建议。\nMySQL [mysql]> UPDATE user SET Host=@'%' where user='root' AND Host='localhost' LIMIT 1;       \nMySQL [mysql]> flush privileges;\n#再次查看现有用户,密码及允许连接的主机\nMySQL [mysql]> SELECT User, Password, Host FROM user;       \n+------+-------------------------------------------+-----------+\n| User | Password                                  | Host      |\n+------+-------------------------------------------+-----------+\n| root | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 |           |\n| root | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 | 127.0.0.1 |\n+------+-------------------------------------------+-----------+\n</code></pre>\n<ol start=\"3\">\n<li>最后，请注意在linux服务器上，默认3306端口是关闭的，不允许远程访问。因此需要打开3306端口供mysql远程连接使用，端口打开方法：</li>\n</ol>\n<pre><code>[root@iZq2mvq6snkcniZ ~]# iptables -I INPUT 4 -p tcp -m state --state NEW -m tcp --dport 3306 -j ACCEPT\n[root@iZq2mvq6snkcniZ ~]# service iptables save\n</code></pre>\n<p>至此，就可以真正远程访问数据库了，远程访问举例：</p>\n<p><img src=\"https://libs-websoft9-com.oss-cn-qingdao.aliyuncs.com/Websoft9/blog/zh/2020/09/mysql-remote-websoft9.png\" alt=\"\"></p>\n<p>其他命令参考：\n下面我们配置 root 用户： 密码为空, 只允许从 192.168.1.100 连接</p>\n<pre><code>mysql> GRANT ALL PRIVILEGES ON *.* TO 'root'@'192.168.1.100' IDENTIFIED BY '' WITH GRANT OPTION;\n@'192.168.1.100'可以替换为@‘%’就可任意ip访问，当然我们也可以直接用 UPDATE 更新 root 用户 Host, SQL如下:\nmysql> UPDATE user SET Host='192.168.1.100' WHERE User='root' AND Host='localhost' LIMIT 1;\n</code></pre>"}},"persons":null,"customers":null,"products":null,"solutions":null,"tags":null,"time":"2018-06-17","downloadUrl":null}]}},"pageContext":{"slug":"mysql-romote","breadcrumb":{"location":"/en-US/blog/mysql-romote","crumbs":[{"pathname":"/","crumbLabel":"Home"},{"pathname":"/en-US","crumbLabel":"en-US"},{"pathname":"/en-US/blog","crumbLabel":"blog"},{"pathname":"/en-US/blog/mysql-romote","crumbLabel":"mysql-romote"}]},"language":"en-US","i18n":{"language":"en-US","languages":["en-US","zh-CN"],"defaultLanguage":"zh-CN","generateDefaultLanguagePage":false,"routed":true,"originalPath":"/blog/mysql-romote","path":"en-US/blog/mysql-romote"}}},"staticQueryHashes":["2390569662","3367695531","3666294474","3881056605","931386620"]}